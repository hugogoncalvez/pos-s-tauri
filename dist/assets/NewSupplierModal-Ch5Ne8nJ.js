import{d as g,j as e,e as C,f as S,r as k,S as I,D as y,I as s,g as A,B as D,G as n,h as d,i as u,k as E,l as h,C as z,x}from"./index-C4A7YWMW.js";import{d as P}from"./Close-C6Pm4Hrr.js";import{d as p}from"./Clear-CkvqAIGR.js";import{d as L}from"./SaveAs-t3VbbXSm.js";const B=g(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),G=g(e.jsx("path",{d:"M21 12.4V7l-4-4H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h7.4zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3M6 6h9v4H6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71"}),"SaveAs"),T=({open:a,handleClose:t,initialName:l="",onSupplierAdded:j})=>{const[r,o,m]=C({nombre:l,cuit:"",telefono:""}),{mutate:v,status:f}=S("createSupplier"),i=f==="pending";k.useEffect(()=>{a&&m({nombre:l,cuit:"",telefono:""})},[a,l,m]);const b=()=>{if(!r.nombre||r.nombre.trim()===""){x.fire("Error","El nombre del proveedor es obligatorio.","error");return}v({url:"/suppliers",values:r,useApi:!0},{onSuccess:c=>{x.fire("Éxito","Proveedor creado correctamente.","success"),j(c),t()},onError:c=>{console.error("Error al crear el proveedor:",c),x.fire("Error","No se pudo crear el proveedor.","error")}})};return e.jsxs(I,{open:a,onClose:t,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"background.dialog",color:"text.primary"},children:["Agregar Nuevo Proveedor",e.jsx(s,{onClick:t,children:e.jsx(P,{color:"error"})})]}),e.jsx(A,{sx:{p:0,backgroundColor:"background.paper"},children:e.jsx(D,{sx:{backgroundColor:"background.dialog",p:3},children:e.jsxs(n,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(n,{item:!0,xs:12,children:e.jsx(d,{autoFocus:!0,name:"nombre",label:"Nombre del Proveedor",type:"text",fullWidth:!0,variant:"outlined",value:r.nombre||"",onChange:o,InputProps:{startAdornment:e.jsx(u,{position:"start",children:e.jsx(s,{onClick:()=>o({target:{name:"nombre",value:""}}),children:e.jsx(p,{color:"error"})})})}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(d,{name:"cuit",label:"CUIT",type:"text",fullWidth:!0,variant:"outlined",value:r.cuit||"",onChange:o,InputProps:{startAdornment:e.jsx(u,{position:"start",children:e.jsx(s,{onClick:()=>o({target:{name:"cuit",value:""}}),children:e.jsx(p,{color:"error"})})})}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(d,{name:"telefono",label:"Teléfono",type:"text",fullWidth:!0,variant:"outlined",value:r.telefono||"",onChange:o,InputProps:{startAdornment:e.jsx(u,{position:"start",children:e.jsx(s,{onClick:()=>o({target:{name:"telefono",value:""}}),children:e.jsx(p,{color:"error"})})})}})})]})})}),e.jsxs(E,{sx:{p:2,backgroundColor:"background.dialog"},children:[e.jsx(h,{onClick:t,color:"secondary",variant:"outlined",sx:{padding:"2px 12px"},children:"Cancelar"}),e.jsx(h,{onClick:b,color:"primary",disabled:i,variant:"contained",startIcon:i?e.jsx(z,{size:20}):e.jsx(L,{}),children:i?"Guardando...":"Guardar"})]})]})};export{B as D,T as N,G as S};
